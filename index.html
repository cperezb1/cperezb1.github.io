<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi Página con Bootstrap y AJAX</title>

  <!-- Bootstrap CSS (versión 5.3) -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
</head>
<body>
  <!-- Navbar (Componente #1) -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">MiPágina</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon">≡</span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contacto</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Alert (Componente #2) -->
  <div class="alert alert-info text-center m-0" role="alert">
    ¡Bienvenido! Esta es una versión mejorada de mi página personal con Bootstrap y AJAX.
  </div>

  <!-- Contenedor Responsivo -->
  <!-- Para pantallas <768px se comportará como un contenedor fluido,
       y en pantallas más grandes se ajustará hasta un ancho máximo -->
  <div class="container-md my-4">
    <!-- Ejemplo de fila y columnas (responsive) -->
    <div class="row">
      <!-- Columna con info personal -->
      <div class="col-md-6 mb-4">
        <h2>Soy Cristóbal Pérez</h2>
        <p>Estudiante de Ingeniería Civil Eléctrica.</p>
        <ul>
          <li><strong>Nombre:</strong> Cristóbal Pérez</li>
          <li><strong>Carrera:</strong> Ingeniería Civil Eléctrica</li>
          <li><strong>Año de Ingreso:</strong> 2017</li>
          <li>
            <strong>GitHub:</strong>
            <a href="https://github.com/cperezb1" target="_blank">Mi perfil</a>
          </li>
        </ul>
      </div>

      <!-- Columna con tabla de habilidades -->
      <div class="col-md-6 mb-4">
        <h2>Habilidades</h2>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Habilidad</th>
              <th>Nivel</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Python</td>
              <td>Avanzado</td>
            </tr>
            <tr>
              <td>JavaScript</td>
              <td>Básico</td>
            </tr>
            <tr>
              <td>HTML/CSS</td>
              <td>Básico</td>
            </tr>
            <tr>
              <td>Git</td>
              <td>Básico</td>
            </tr>
            <tr>
              <td>Excel</td>
              <td>Intermedio</td>
            </tr>
            <tr>
              <td>SQL</td>
              <td>Básico</td>
            </tr>
            <tr>
              <td>Ruby</td>
              <td>Básico</td>
            </tr>
            <tr>
              <td>Inglés</td>
              <td>Avanzado</td>
            </tr>
            <tr>
              <td>Español</td>
              <td>Nativo</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Sección para las noticias -->
    <div class="row">
      <div class="col-12">
        <h2 class="mb-3">Últimas Noticias de Ciencia</h2>
        <div class="row" id="news-container">
          <!-- Aquí se inyectarán las noticias como "cards" (Componente #3) -->
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS (Popper incluido) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>

  <!-- Script AJAX para cargar noticias -->
  <script>
    // API Key de NewsAPI
    const apiKey = "3889830e2ada42bb9b2ccf199c8105a8";

    // Endpoint para las noticias de "science"
    const url = `https://newsapi.org/v2/top-headlines?category=science&apiKey=${apiKey}&language=es`;

    // Cargar noticias al cargar la página
    window.addEventListener("DOMContentLoaded", () => {
      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          // Tomar los primeros 10 artículos
          const articles = data.articles.slice(0, 10);
          const container = document.getElementById("news-container");

          articles.forEach((article) => {
            // Crear una columna con clase Bootstrap
            const col = document.createElement("div");
            col.classList.add("col-md-4", "mb-4");

            // Crear la card
            const card = document.createElement("div");
            card.classList.add("card", "h-100");

            // Si hay imagen, la agregamos
            if (article.urlToImage) {
              const img = document.createElement("img");
              img.src = article.urlToImage;
              img.classList.add("card-img-top");
              img.alt = article.title;
              card.appendChild(img);
            }

            // Contenedor del cuerpo de la card
            const cardBody = document.createElement("div");
            cardBody.classList.add("card-body");

            // Título
            const title = document.createElement("h5");
            title.classList.add("card-title");
            title.textContent = article.title;

            // Fuente
            const source = document.createElement("h6");
            source.classList.add("card-subtitle", "mb-2", "text-muted");
            source.textContent = article.source.name;

            // Descripción (si no hay, poner "Sin descripción")
            const desc = document.createElement("p");
            desc.classList.add("card-text");
            desc.textContent = article.description
              ? article.description
              : "Sin descripción disponible.";

            // Agregar elementos al card body
            cardBody.appendChild(title);
            cardBody.appendChild(source);
            cardBody.appendChild(desc);

            // Agregar cardBody a la card
            card.appendChild(cardBody);

            // Agregar card a la columna
            col.appendChild(card);

            // Agregar la columna al contenedor
            container.appendChild(col);
          });
        })
        .catch((error) => {
          console.error("Error al obtener noticias:", error);
        });
    });
  </script>
</body>
</html>
